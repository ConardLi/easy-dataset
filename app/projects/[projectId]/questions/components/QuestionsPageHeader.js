'use client';

import { Box, Typography, Button, Tooltip } from '@mui/material';
import { useTranslation } from 'react-i18next';
import AutoFixHighIcon from '@mui/icons-material/AutoFixHigh';
import DeleteIcon from '@mui/icons-material/Delete';
import AddIcon from '@mui/icons-material/Add';

export default function QuestionsPageHeader({
  questionsTotal,
  selectedQuestionsCount,
  onBatchDeleteQuestions,
  onOpenCreateDialog,
  onBatchGenerateAnswers,
  onAutoGenerateDatasets
}) {
  const { t } = useTranslation();

  return (
    <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 3 }}>
      <Typography variant="h4">
        {t('questions.title')} ({questionsTotal})
      </Typography>
      <Box sx={{ display: 'flex', gap: 2 }}>
        <Button
          variant="outlined"
          color={selectedQuestionsCount > 0 ? 'error' : 'primary'}
          startIcon={<DeleteIcon />}
          onClick={onBatchDeleteQuestions}
          disabled={selectedQuestionsCount === 0}
        >
          {t('questions.deleteSelected')}
        </Button>

        <Button variant="contained" startIcon={<AddIcon />} onClick={onOpenCreateDialog}>
          {t('questions.createQuestion')}
        </Button>

        <Button
          variant="contained"
          startIcon={<AutoFixHighIcon />}
          onClick={onBatchGenerateAnswers}
          disabled={selectedQuestionsCount === 0}
        >
          {t('questions.batchGenerate')}
        </Button>

        <Tooltip
          title={t('questions.autoGenerateDatasetTip', {
            defaultValue: '创建后台批量处理任务：自动查询待生成答案的问题并生成答案'
          })}
        >
          <Button variant="outlined" color="secondary" startIcon={<AutoFixHighIcon />} onClick={onAutoGenerateDatasets}>
            {t('questions.autoGenerateDataset', { defaultValue: '自动生成数据集' })}
          </Button>
        </Tooltip>
      </Box>
    </Box>
  );
}
